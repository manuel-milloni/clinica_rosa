<br>
<br>
<br>
<div *ngIf="!modal" class="container">

   <div class="input-group">
      <button class="btn btn-primary" (click)="abrirModalFD()">Fecha desde</button>
      <input class="form-control bg-dark text-light text-center" type="text" value="{{fechaDesdeFormateada}}"
         style="max-width: 120px;">

      <button class="btn btn-primary" (click)="abrirModalFH()">Fecha hasta</button>
      <input class="form-control bg-dark text-light text-center" type="text" value="{{fechaHastaFormateada}}"
         style="max-width: 120px;">

      <button class="btn btn-primary" (click)="getTurnosByFecha()">Buscar</button>
      <button class="btn btn-primary" (click)="getAllTurnos()">Ver todos</button>
      <button class="btn btn-primary" (click)="getTurnosToday()">Hoy</button>
      <button class="btn btn-primary" (click)="getTurnosTomorrow()">Ma√±ana</button>
      <input class="form-control bg-dark text-light" type="text" id="buscador"
         placeholder="Buscar turnos(estado, paciente o profesional)..." [(ngModel)]="searchText">
   </div>


   <div class="container">
      <div class="row">
         <div class="col-12 col-md-6 col-lg-4 mt-5" *ngFor="let item of listTurno | filter:searchText : ['estado', 'paciente.nombre', 'paciente.apellido','profesional.nombre', 'profesional.apellido']">
            <div class="card bg-dark text-light">
               <div class="card-body">
                  <p class="card-text text-light fs-5">Turno nro: {{item.id}}</p>
                  <p class="card-text text-light fs-5">Paciente: {{item.paciente?.nombre}} {{item.paciente?.apellido}}</p>
                  <p class="card-text text-light fs-5">Estado: {{item.estado}}</p>
                  <p class="card-text text-light fs-5">Profesional: {{item.profesional?.nombre}} {{item.profesional?.apellido}}</p>
                  <p class="card-text text-light fs-5">Especialidad: {{item.especialidad?.nombre}}</p>
                  <p class="card-text text-light fs-5">Fecha: {{item.fechaLocal}}</p>
                  <p class="card-text text-light fs-5">{{item.observaciones}}</p>
                
   
               </div>
               
               <div class="card-footer d-flex justify-content-between">
                  <button class="btn btn-danger" (click)="deleteTurno(item.id!)">Eliminar</button>
                  <button class="btn btn-primary" (click)="abrirModal(item.id!)">Editar</button>
                 
         
               </div>
   
            </div>
         </div>
      </div>

      


    

   </div>

</div>



<!-- ------------------------------ MODAL FECHA DESDE ----------------------------------------- -->

<div class="modal" id="modalFechaDesde" tabindex="-1" aria-labelledby="modalFDLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="modalFDLabel">Seleccionar Fecha Desde</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
         </div>
         <div class="modal-body text-center">

            <ngb-datepicker (dateSelect)="seleccionarFechaDesde($event)"></ngb-datepicker>
         </div>
         <div class="modal-footer d-flex justify-content-between">
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>

         </div>
      </div>
   </div>
</div>
<!-- ------------------------------------- MODAL FECHA HASTA ----------------------------------------------- -->
<div class="modal" id="modalFechaHasta" tabindex="-1" aria-labelledby="modalFDLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="modalFDLabel">Seleccionar Fecha Hasta</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
         </div>
         <div class="modal-body text-center">

            <ngb-datepicker (dateSelect)="seleccionarFechaHasta($event)"></ngb-datepicker>
         </div>
         <div class="modal-footer d-flex justify-content-between">
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>

         </div>
      </div>
   </div>
</div>


<app-edit-modal [idTurno]="idTurnoModal" *ngIf="modal" (cerrarModal)="cerrarModal()"></app-edit-modal>